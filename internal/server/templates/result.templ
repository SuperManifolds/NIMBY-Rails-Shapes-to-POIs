package templates

import "fmt"

templ ConversionResult(modName string, poiCount int, downloadPath string, previewPath string) {
	<div class="card success">
		<h2>✅ Conversion Complete!</h2>
		<p>
			Successfully generated <strong>{ modName }</strong> with <strong>{ fmt.Sprintf("%d", poiCount) }</strong> POIs.
		</p>
		if previewPath != "" {
			<div style="margin: 24px 0">
				<h3>Map Preview</h3>
				<img src={ previewPath } alt="Map preview with POI locations" class="map-preview"/>
			</div>
		}
		<div style="margin-top: 24px">
			<a href={ templ.URL(downloadPath) } class="btn" download>
				📥 Download { modName }
			</a>
			<button class="btn btn-secondary" onclick="location.reload()" style="margin-left: 12px">
				🔄 Convert Another File
			</button>
		</div>
		<div
			class="installation-instructions"
			style="margin-top: 24px; padding: 16px; background: #f8fafc; border-radius: 8px; border-left: 4px solid #3b82f6;"
		>
			<h3>📦 Installation Instructions</h3>
			<ol style="margin: 12px 0; padding-left: 20px;">
				<li>Download the mod file above</li>
				<li>Unzip the downloaded file</li>
				<li>Copy the unzipped folder to your NIMBY Rails mods directory:</li>
			</ol>
			<div
				style="background: #1f2937; color: #f3f4f6; padding: 12px; border-radius: 6px; font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace; font-size: 14px; margin: 8px 0;"
			>
				<strong>Windows:</strong>
				<br/>
				<code>%USERPROFILE%\Saved Games\Weird and Wry\NIMBY Rails\mods\</code>
				<br/>
				<br/>
			</div>
			<p style="margin: 12px 0 0 0; font-size: 14px; color: #6b7280;">
				<strong>Note:</strong> Create the mods folder if it doesn't exist. Go to the Mods tab in the top right of NIMBY Rails and enable your mod to see the POIs in the game.
			</p>
		</div>
	</div>
}

templ Error(message string) {
	<div class="card error">
		<h2>❌ Error</h2>
		<p>{ message }</p>
		<button class="btn btn-secondary" onclick="location.reload()" style="margin-top: 16px">
			🔄 Try Again
		</button>
	</div>
}
